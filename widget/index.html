<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,initial-scale=1.0,width=device-width" />
    <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
    <title>雇佣兵</title>
    <link rel="stylesheet" type="text/css" href="./css/api.css" />

</head>


<script type="text/javascript" src="./script/api.js"></script>
<script type="text/javascript">
    apiready = function() {
        // api.setPrefs({
        //     key: 'readWelcomeFrame',
        //     value: false
        // });

        //异步返回结果：
        api.getPrefs({
            key: 'readWelcomeFrame'
        }, function(ret, err) {
            // console.log("----异步数据-----" + JSON.stringify(ret))
            var readWelcomeFrame = ret.value;
            // console.log("----readWelcomeFrame-----" + readWelcomeFrame)

            if (readWelcomeFrame) {
                console.log("非首次使用, 直接进入应用");
                api.openWin({
                    name: 'main',
                    url: 'html/main.html',
                });

            } else {
                console.log("首次使用,进入引导页面");
                fnoWpenWelcomeFrame();
            }

        });

    };

    function fnoWpenWelcomeFrame() {
        api.openFrameGroup({
            name: 'welcome_frame_group',
            background: '#fff',
            scrollEnabled: true,
            rect: {
                x: 0,
                y: 0,
                w: 'auto',
                h: 'auto'
            },
            index: 0,
            frames: [{
                name: 'welcome_frame_1',
                url: 'widget://html/welcome/welcome_frame_1.html',
                bgColor: '#fff',
                bounces: false,
                bgColor: 'widget://image/welcome/1.png',
            }, {
                name: 'welcome_frame_2',
                url: 'widget://html/welcome/welcome_frame_2.html',
                bgColor: '#fff',
                bounces: false,
                bgColor: 'widget://image/welcome/2.png',
            }, {
                name: 'welcome_frame_3',
                url: 'widget://html/welcome/welcome_frame_3.html',
                bgColor: '#fff',
                bounces: false,
                bgColor: 'widget://image/welcome/3.png',
            }, {
                name: 'welcome_frame_4',
                url: 'widget://html/welcome/welcome_frame_4.html',
                bgColor: '#fff',
                bounces: false,
                bgColor: 'widget://image/welcome/4.png',
            }]
        }, function(ret, err) {
            var name = ret.name;
            var index = ret.index;
            // console.log("-------" + name + "-------" + index + "-------");

        });

        api.setPrefs({
            key: 'readWelcomeFrame',
            value: true,
        });
    };
</script>

</html>
